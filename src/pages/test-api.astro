---
const communes = await fetch('https://geo.api.gouv.fr/communes?nom=Paris');
const data = await communes.json();
const ville = data[0];
console.log(ville);
---

<script>
  async function getCommune(params) {
    const response = await fetch('/api/getCommune', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ data: params })
    });
    if (!response.ok) {
      throw new Error('API error: ' + response.status);
    }
    return response.json();
  }

    console.log(await getCommune("Paris"));
<<<<<<< Updated upstream
=======

>>>>>>> Stashed changes
</script>